@model CustomerSettingsViewModel;
@{
	ViewBag.PageTitle = "My Settings";
	Layout = "_CustomerLayout";
}
@section CustomCss
{
<link rel="stylesheet" href="~/css/customerServiceHistory.css" asp-append-version="true">
<link rel="stylesheet" href="~/css/MySettings.css" asp-append-version="true">
}
<div class="modal fade" id="deleteAddressModal" tabindex="-1" aria-labelledby="deleteAddressModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered justify-content-center">
		<div class="modal-content">
			<div class="modal-header pb-0 border-0">
				<h5 class="modal-title" id="deleteAddressModalLabel">Delete Address</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body pb-0">Are you sure you want to delete this address?</div>
			<div class="modal-footer border-0 justify-content-start">
				<button type="button" id="deleteAddressModalBtn" class="save rounded-pill">Delete</button>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="addAddressModal" tabindex="-1" aria-labelledby="addAddressModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered justify-content-center">
		<div class="modal-content">
			<div class="modal-header pb-0 border-0">
				<h5 class="modal-title" id="addAddressModalLabel">Add New Address</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body pb-0">
				<form class="row" id="addAddressModalForm">
					<div class="col-12 col-md-6 mb-2">
						<label class="mb-1" asp-for="AddNewAddressViewModel.StreetName">Street Name</label>
						<input type="text" class="form-control" asp-for="AddNewAddressViewModel.StreetName"
							placeholder="Street Name">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.StreetName"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" asp-for="AddNewAddressViewModel.HouseNumber">House Name</label>
						<input type="text" class="form-control" asp-for="AddNewAddressViewModel.HouseNumber"
							placeholder="House Name">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.HouseNumber"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" asp-for="AddNewAddressViewModel.PostalCode">Postal Code</label>
						<input type="text" class="form-control postalCode" asp-for="AddNewAddressViewModel.PostalCode"
							placeholder="Postal Code">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.PostalCode"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" asp-for="AddNewAddressViewModel.City">City</label>
						<input type="text" class="form-control bg-white City" asp-for="AddNewAddressViewModel.City"
							placeholder="City" readonly>
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.City"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" asp-for="AddNewAddressViewModel.PhoneNumber">Phone Number</label>
						<div class="input-group flex-nowrap">
							<span class="input-group-text" id="addon-wrapping">+91</span>
							<input type="text" class="form-control" asp-for="AddNewAddressViewModel.PhoneNumber"
								placeholder="Phone Number" aria-label="Phone Number" aria-describedby="addon-wrapping">
						</div>
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.PhoneNumber"></span>
					</div>
					<div class="modal-footer pt-0 border-0 justify-content-start">
						<button type="submit" id="addAddressModalBtn" class="save rounded-pill w-100 m-0">Add</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="updateAddressModal" tabindex="-1" aria-labelledby="updateAddressModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered justify-content-center">
		<div class="modal-content">
			<div class="modal-header pb-0 border-0">
				<h5 class="modal-title" id="updateAddressModalLabel">Update Address</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body pb-0">
				<form class="row" id="updateAddressModalForm">
					<input type="number" id="UpdateAddressId" hidden>
					<div class="col-12 col-md-6 mb-2">
						<label class="mb-1" for="UpdateStreetName">Street Name</label>
						<input type="text" class="form-control" id="UpdateStreetName"
							asp-for="AddNewAddressViewModel.StreetName" placeholder="Street Name">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.StreetName"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" for="UpdateHouseNumber">House Name</label>
						<input type="text" class="form-control" id="UpdateHouseNumber"
							asp-for="AddNewAddressViewModel.HouseNumber" placeholder="House Name">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.HouseNumber"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" for="UpdatePostalCode">Postal Code</label>
						<input type="text" class="form-control postalCode" id="UpdatePostalCode"
							asp-for="AddNewAddressViewModel.PostalCode" placeholder="Postal Code">
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.PostalCode"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" for="UpdateCity">City</label>
						<input type="text" class="form-control bg-white City" id="UpdateCity"
							asp-for="AddNewAddressViewModel.City" placeholder="City" readonly>
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.City"></span>
					</div>
					<div class="col-12 col-md-6 mb-3">
						<label class="mb-1" for="UpdatePhoneNumber">Phone Number</label>
						<div class="input-group flex-nowrap">
							<span class="input-group-text" id="addon-wrapping">+91</span>
							<input type="text" class="form-control" id="UpdatePhoneNumber"
								asp-for="AddNewAddressViewModel.PhoneNumber" placeholder="Phone Number"
								aria-label="Phone Number" aria-describedby="addon-wrapping">
						</div>
						<span class="text center text-danger my-1 d-block"
							asp-validation-for="AddNewAddressViewModel.PhoneNumber"></span>
					</div>
					<div class="modal-footer pt-0 border-0 justify-content-start">
						<button type="submit" id="updateAddressModalBtn"
							class="save rounded-pill w-100 m-0">Update</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<div class="position-fixed bottom-0 end-0 p-3">
	<div class="toast align-items-center text-white border-0 fade" role="alert" aria-live="assertive"
		aria-atomic="true">
		<div class="d-flex">
			<div class="toast-body py-3 px-4 fs-6"></div>
			<button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
				aria-label="Close"></button>
		</div>
	</div>
</div>
<div class="w-100">
	<div class="nav mb-3" id="settingsTabs" role="tablist">
		<div id="detailsTabBtn" class="col-4 settingsTab active" data-bs-toggle="tab" data-bs-target="#details"
			role="tab" aria-selected="false" aria-controls="details">
			<div class="fw-bold d-none d-md-block">My Details</div>
			<img src="~/images/my-account-details.png" class="d-block d-md-none">
		</div>
		<div id="addressesTabBtn" class="col-4 settingsTab" data-bs-toggle="tab" data-bs-target="#addresses" role="tab"
			aria-selected="false" aria-controls="addresses">
			<div class="fw-bold d-none d-md-block">My Addresses</div>
			<img src="~/images/my-account-address.png" class="d-block d-md-none">
		</div>
		<div id="changePasswordTabBtn" class="col-4 settingsTab" data-bs-toggle="tab" data-bs-target="#password"
			role="tab" aria-selected="false" aria-controls="password">
			<div class="fw-bold d-none d-md-block">Change Password</div>
			<img src="~/images/my-account-password.png" class="d-block d-md-none">
		</div>
	</div>
	<div class="tab-content" id="settingsTabsContent">
		<div role="tabpanel" aria-labelledby="detailsTabBtn" id="details" class="tab-pane fade show active">
			<form id="UpdateDetailsForm">
				<div class="row mb-3 g-2">
					<div class="col-12 col-md-4">
						<label asp-for="Details.FirstName" class="fw-bold mb-1">First Name</label>
						<input asp-for="Details.FirstName" class="form-control" placeholder="First Name">
						<span class="d-block text-danger mt-1" asp-validation-for="Details.FirstName"></span>
					</div>
					<div class="col-12 col-md-4">
						<label asp-for="Details.LastName" class="fw-bold mb-1">Last Name</label>
						<input asp-for="Details.LastName" type="text" class="form-control" placeholder="Last Name">
						<span class="d-block text-danger mt-1" asp-validation-for="Details.LastName"></span>
					</div>
					<div class="col-12 col-md-4">
						<label asp-for="Details.Email" class="fw-bold mb-1">E-mail Address</label>
						<input type="text" asp-for="Details.Email" class="form-control" readonly disabled
							placeholder="Email">
						<span class="d-block text-danger mt-1" asp-validation-for="Details.Email"></span>
					</div>
				</div>
				<div class="row g-2 mb-3">
					<div class="col-12 col-md-4">
						<label asp-for="Details.PhoneNumber" class="fw-bold mb-1">Mobile Number</label>
						<div class="input-group flex-nowrap">
							<span class="d-flex align-items-center justify-content-center input-group-text"
								id="addon-wrapping">+91</span>
							<input asp-for="Details.PhoneNumber" type="text" class="form-control"
								placeholder="Mobile Number" aria-label="Mobile Number"
								aria-describedby="addon-wrapping">
						</div>
						<span class="d-block text-danger mt-1" asp-validation-for="Details.PhoneNumber"></span>
					</div>
					<div class="col-12 col-md-5 col-xl-4">
						<label class="fw-bold mb-1">Date Of Birth</label>
						<div class="row g-1">
							<div class="col-3">
								<select class="form-select" asp-for="Details.Day">
									<option value="">Day</option>
									@{
										for (int i = 1; i <= 31; i++)
										{
											<option value="@i">@(i.ToString().Length==1?"0"+i:i)</option>
										}
									}
								</select>
							</div>
							<div class=" col-5">
								<select class="form-select" asp-for="Details.Month">
									<option value="">Month</option>
									@{
										string[] month = { "January", "February", "March", "April", "May", "June", "July",
																"August","September","October","November","December" };
										for (int i = 1; i <= 12; i++)
										{
											<option value="@i">@month[i-1]</option>
										}
									}
								</select>
							</div>
							<div class="col-4">
								<select class="form-select" asp-for="Details.Year">
									<option value="">Year</option>
									@{
										for (int i = DateTime.Now.Year - 18; i >= 1913; i--)
										{
											<option value="@i">@i</option>
										}
									}
								</select>
							</div>
							<span class="d-block text-danger mt-1" id="doberror"></span>
						</div>
					</div>
				</div>
				<hr class="bg-transparent" />
				<div class="mb-3">
					<label class="fw-bold mb-1" asp-for="Details.Language">My Preferred Language</label>
					<select class="form-select w-auto" asp-for="Details.Language">
						<option value="English">English</option>
						<option value="German">German</option>
					</select>
				</div>
				<span class="text-danger my-2" id="formSubmitError"></span>
				<button id="UpdateDetailsFormBtn" class="save rounded-pill" type="submit">Save</button>
			</form>
		</div>
		<div role="tabpanel" aria-labelledby="addressesTabBtn" id="addresses" class="tab-pane fade">
			<div class="addressesContainer">
				<table class="addressesTable">
					<thead>
						<tr>
							<td class="text-center">Default</td>
							<td>Addresses</td>
							<td class="text-center">Actions</td>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>
			<button data-bs-toggle="modal" data-bs-target="#addAddressModal" class="mt-2 save rounded-pill">Add New
				Address</button>
		</div>
		<div role="tabpanel" aria-labelledby="changePasswordTabBtn" id="password" class="tab-pane fade">
			<form id="ChangePasswordForm">
				<div class="row flex-column mb-2">
					<div class="col-12 col-md-6">
						<label class="fw-bold mb-1" asp-for="PasswordChange.CurrentPassword">Current Password</label>
						<input type="password" class="form-control" asp-for="PasswordChange.CurrentPassword"
							placeholder="Current Password">
						<span asp-validation-for="PasswordChange.CurrentPassword"
							class="d-block text-danger my-1"></span>
					</div>
					<div class="col-12 col-md-6">
						<label class="fw-bold mb-1" asp-for="PasswordChange.NewPassword">New Password</label>
						<input type="password" class="form-control" asp-for="PasswordChange.NewPassword"
							placeholder="New Password">
						<span asp-validation-for="PasswordChange.NewPassword" class="d-block text-danger my-1"></span>
					</div>
					<div class="col-12 col-md-6">
						<label class="fw-bold mb-1" asp-for="PasswordChange.CNewPassword">Confirm Password</label>
						<input type="password" class="form-control" asp-for="PasswordChange.CNewPassword"
							placeholder="Confirm New Password">
						<span asp-validation-for="PasswordChange.CNewPassword" class="d-block text-danger my-1"></span>
					</div>
				</div>
				<button id="ChangePasswordFormBtn" class="save rounded-pill" type="submit">Save</button>
			</form>
		</div>
	</div>
</div>
<div class="loaderContainer">
	<div class="loader rounded-circle"></div>
</div>
@section CustomScripts
{
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"
	integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg=="
	crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"
	integrity="sha512-o6XqxgrUsKmchwy9G5VRNWSSxTS4Urr4loO6/0hYdpWmFUfHqGzawGxeQGMDqYzxjY9sbktPbNlkIQJWagVZQg=="
	crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="~/js/UserMySettings.js" asp-append-version="true"></script>
}